<div class="container-fluid">
  <div class="row">
    <div class="col-md-6">
      <button type="button" class="btn btn-info" mat-button (click)="openUpdateDialog()">
        <span class="glyphicon glyphicon-pencil" aria-hidden="true" ></span> Edit Ticket</button>
      <button type="button" class="btn btn-info">
        <span class="glyphicon glyphicon-ok" aria-hidden="true"></span> Approve</button>
      <button type="button" class="btn btn-info">
        <span class="glyphicon glyphicon-user" aria-hidden="true"></span> Assign</button>
      <button type="button" class="btn btn-info">
        <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Delete</button>

    </div>
    <div class="col-md-3"></div>
  </div>
  <hr>
  <div class="row">
    <div class="col-md-6">
      <form #detailPanel="ngForm" (ngSubmit)="editDetailPanel(detailPanel)">
        <div class="panel panel-info">
          <div class="panel-heading">Detail
            <button type = "submit" class="pull-right" id = "editDetail">
              <span *ngIf = "!editMode" class="glyphicon glyphicon-pencil pull-right" aria-hidden="true"></span>
              <span *ngIf = "editMode" class="glyphicon glyphicon-ok pull-right" aria-hidden="true"></span>
              
            </button>
          </div>
          <div class="panel-body" *ngIf ="!editMode">
            <div class="form-group">
              <label>Name: </label>{{ selectedTicket.ticketName }}

            </div>
            <div class="form-group">
              <label>Type: </label>{{ selectedTicket.ticketType }}

            </div>
            <div class="form-group">
              <label>Status: </label>{{ selectedTicket.ticketStatus }}

            </div>
            <div class="form-group">
              <label>Reporter: </label>{{ selectedTicket.ticketcreateduser.userFullName }}

            </div>
            <div class="form-group">
              <label>Assignee:</label> {{ selectedTicket.ticketassigneduser.userFullName }}

            </div>

          </div>
          <!-- Edit Mode -->
          <div class="panel-body" *ngIf ="editMode">
              <div class="form-group">
                <label>Name: </label>
                <input type="text" [(ngModel)] = "selectedTicket.ticketName" name="selectedTicket.ticketName" required>
  
              </div>
              <div class="form-group">
                <label>Type: </label> {{ selectedTicket.ticketType }}
  
              </div>
              <div class="form-group">
                <label>Status: </label> {{ selectedTicket.ticketStatus }}
  
              </div>
              <div class="form-group">
                <label>Reporter: </label> {{ selectedTicket.ticketcreateduser.userFullName }}
  
              </div>
              <div class="form-group">
                <label>Assignee:</label> {{ selectedTicket.ticketassigneduser.userFullName }}
  
              </div>
  
            </div>
            <!-- Edit Mode -->
        </div>
      </form>
      <div class="panel panel-info">
        <div class="panel-heading">Description</div>
        <div class="panel-body">
          <p class="text-justify">{{ selectedTicket.ticketDescription }}</p>
        </div>
      </div>

      <div class="panel panel-info">
        <div class="panel-heading">Attachments</div>
        <div class="panel-body">
          Attachments
        </div>
      </div>
    </div>

    <div class="col-md-6">
      <div class="panel panel-info">
        <div class="panel-heading">Comments</div>
        <div class="panel-body">

          <app-comments *ngFor="let com of comments" [comment]="com"></app-comments>

          <form (ngSubmit)="addComment(c)" #c="ngForm">
            <div class="form-group">
              <label for="comment">Comment:</label>
              <textarea class="form-control" rows="5" id="comment" ngModel name="commentdesc"></textarea>
            </div>
            <div class="form-group">
              <button type="submit" class="btn btn-primary">Add Comment</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>